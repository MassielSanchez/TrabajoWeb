<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cambiar Contraseña</title>
    <link rel="stylesheet" href="../css/forgot_password.css">
    <link rel="icon" href="img/intec-removebg-preview.png" type="image/x-icon">
</head>
<body>
    <div class="recover-container">
        <div class="recover-card">
            <h2>Cambiar Contraseña</h2>
            <p>Ingresa una nueva contraseña segura.<br>
            Debe tener al menos 6 caracteres, una mayúscula y un número.</p>

            <form action="../api/actualizar_contrasena.php" method="POST">
                <!-- Captura el ID del usuario desde la URL -->
                <input type="hidden" name="id_usuario" id="id_usuario">

                <label for="nueva_contrasena">Nueva Contraseña:</label>
                <input type="password" id="nueva_contrasena" name="nueva_contrasena" required>

                <label for="confirmar_contrasena">Confirmar Contraseña:</label>
                <input type="password" id="confirmar_contrasena" name="confirmar_contrasena" required>

                <button type="submit">Actualizar Contraseña</button>
            </form>
        </div>
    </div>

    <script>
        // Captura el ID del usuario desde la URL
        const params = new URLSearchParams(window.location.search);
        const idUsuario = params.get("id_usuario");
        if (idUsuario) {
            document.getElementById("id_usuario").value = idUsuario;
        } else {
            alert("Falta el ID de usuario en la URL.");
            window.location.href = "recuperar.html"; // o donde empiece el proceso
        }
    </script>
</body>
</html>